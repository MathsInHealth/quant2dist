% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/or_rr.R
\name{estimate_or_rr}
\alias{estimate_or_rr}
\title{Estimate odds ratios and relative risks from distribution parameters}
\usage{
estimate_or_rr(
  distdf,
  colnms = c(outcome = "outcome", dist = "dist", par1 = "par1", par2 = "par2", n = "n"),
  stvs = NULL,
  nsamples = 1000,
  output = "OR/RR"
)
}
\arguments{
\item{distdf}{A data frame with one row per outcome group, containing:
\itemize{
\item \code{outcome}: Binary outcome indicator (0 or 1).
\item \code{dist}: Distribution name (e.g., \code{"normal"}, \code{"lognormal"}).
\item \code{par1}: First distribution parameter (e.g., mean or shape).
\item \code{par2}: Second distribution parameter (e.g., SD or scale).
\item \code{n}: Sample size for each group.
}}

\item{colnms}{Named character vector mapping standard column names to
actual column names in \code{distdf}. Default assumes standard names.}

\item{stvs}{Starting values (currently unused; reserved for future extensions).}

\item{nsamples}{Number of pseudo-observations to simulate per distribution.
Default is 1000.}

\item{output}{Character string controlling which estimates to compute:
\code{"OR"} for odds ratio only, \code{"RR"} for relative risk only,
or \code{"OR/RR"} (default) for both.}
}
\value{
A list containing: \code{row_output} (named numeric vector of estimates),
\code{output} (data frame with one row per measure containing ratio, log-ratio, SE, p-value, and CIs),
and when computed: \code{OR_coef}, \code{OR_coefficients}, \code{OR_glm} (OR model components),
\code{RR_coef}, \code{RR_coefficients}, \code{RR_glm}, \code{RR_vcov} (RR model components with
sandwich-adjusted standard errors).
}
\description{
Computes odds ratios (OR) and relative risks (RR) relating a continuous
predictor to a binary outcome, given parametric distributions fit to the
predictor in each outcome group. Uses simulation-based pseudo-data with
weighted logistic regression. Standard errors for RR are adjusted using
the Zeger-Liang sandwich estimator.
}
\details{
For OR estimation, standard logistic regression is used on simulated data.
For RR estimation, the method duplicates cases with \code{outcome = 1},
setting the duplicates to \code{outcome = 0}, then applies logistic regression
with sandwich variance adjustment to approximate relative risk.

Supported distributions include: normal, lognormal, exponential, beta, gamma, weibull.
}
\examples{
\dontrun{
# Example: estimate OR/RR for normal distributions
df <- data.frame(
  outcome = c(0, 1, 0, 1),
  dist = "normal",
  par1 = c(9.3, 8.7, 8.4, 7.7),
  par2 = c(1.6, 1.9, 1.3, 1.3),
  n = c(188, 38, 188, 38)
)
result <- estimate_or_rr(df)
print(result$output)
}

}
