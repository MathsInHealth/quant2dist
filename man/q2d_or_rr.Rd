% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/or_rr.R
\name{q2d_or_rr}
\alias{q2d_or_rr}
\title{Estimate OR and RR from reported quantiles}
\usage{
q2d_or_rr(case_quants, control_quants, measure = "both", dist_family = NULL)
}
\arguments{
\item{case_quants}{Named numeric vector of quantiles for cases (outcome=1),
or a list of such vectors for multiple case groups/studies.
Names should be quantile labels (e.g., \code{"min"}, \code{"25\%"},
\code{"50\%"}, \code{"75\%"}, \code{"max"}) plus \code{"n"} for sample size.
See \code{\link{q2d}} for supported formats.}

\item{control_quants}{Named numeric vector of quantiles for controls (outcome=0),
or a list of such vectors for multiple control groups/studies.
Same format as \code{case_quants}.}

\item{measure}{Character string: \code{"OR"} for odds ratio only, \code{"RR"}
for relative risk only, or \code{"both"} (default) for both measures.}

\item{dist_family}{Optional: force a specific distribution family instead of
automatic selection. Must be one of: \code{"normal"}, \code{"lognormal"},
\code{"exponential"}, \code{"beta"}, \code{"gamma"}, \code{"weibull"}.
If \code{NULL} (default), best-fitting distribution is selected for each group.}
}
\value{
A list with components:
\item{case_fit}{Distribution fit(s) for cases from \code{\link{q2d}}.
A single fit object if input is a vector, or a list of fit objects if input is a list.}
\item{control_fit}{Distribution fit(s) for controls from \code{\link{q2d}}.
A single fit object if input is a vector, or a list of fit objects if input is a list.}
\item{distdf}{Data frame passed to OR/RR estimation functions.}
\item{OR}{Odds ratio results (if computed), from \code{\link{estimate_or}}.}
\item{RR}{Relative risk results (if computed), from \code{\link{estimate_rr}}.}
}
\description{
Convenience wrapper that fits distributions to reported quantiles using
\code{\link{q2d}}, then estimates odds ratios and relative risks using
\code{\link{estimate_or}} and \code{\link{estimate_rr}}. This combines
the two-step workflow into a single function call.
}
\details{
This function streamlines the workflow of:
\enumerate{
\item Fitting parametric distributions to reported quantiles for cases and controls
\item Extracting fitted parameters
\item Computing OR and/or RR via integration-based methods
}

If \code{dist_family} is not specified, the function selects the best-fitting
distribution separately for cases and controls. This allows for different
distributions in each group (e.g., normal for controls, lognormal for cases).

When inputs are lists (multiple studies/groups), each element is fitted separately
and all groups are pooled in the final OR/RR estimation. This allows combining
data from multiple sources with potentially different distributions.
}
\examples{
\dontrun{
# Example 1: Single case and control group
cases <- c("min" = 2.1, "25\%" = 4.5, "50\%" = 6.2,
           "75\%" = 8.3, "max" = 15.2, "n" = 38)
controls <- c("min" = 3.2, "25\%" = 5.1, "50\%" = 7.1,
              "75\%" = 9.1, "max" = 14.5, "n" = 188)

result <- q2d_or_rr(cases, controls)
print(result$OR)
print(result$RR)

# Example 2: Multiple case groups (pooled analysis)
cases_list <- list(
  c("min" = 2.1, "25\%" = 4.5, "50\%" = 6.2, "75\%" = 8.3, "max" = 15.2, "n" = 38),
  c("25\%" = 3.7, "50\%" = 6.0, "75\%" = 7.5, "n" = 150)
)
controls <- c("min" = 3.2, "25\%" = 5.1, "50\%" = 7.1,
              "75\%" = 9.1, "max" = 14.5, "n" = 188)

result_pooled <- q2d_or_rr(cases_list, controls)
# distdf will have 3 rows: 1 control group + 2 case groups
print(result_pooled$distdf)
}

}
\seealso{
\code{\link{q2d}}, \code{\link{estimate_or}}, \code{\link{estimate_rr}}
}
