% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/or_rr.R
\name{estimate_or}
\alias{estimate_or}
\title{Estimate odds ratios from distribution parameters via integration}
\usage{
estimate_or(
  distdf,
  colnms = c(outcome = "outcome", dist = "dist", par1 = "par1", par2 = "par2", n = "n",
    mean = "mean", sd = "sd"),
  stvs = NULL,
  ll_fun = or_log_likelihood
)
}
\arguments{
\item{distdf}{A data frame with one row per outcome group, containing:
\itemize{
\item \code{outcome}: Binary outcome indicator (0 or 1).
\item \code{dist}: Distribution name (e.g., \code{"normal"}, \code{"lognormal"}).
\item \code{par1}: First distribution parameter (e.g., mean or shape).
\item \code{par2}: Second distribution parameter (e.g., SD or scale).
\item \code{n}: Sample size for each group.
\item \code{mean}, \code{sd}: Optional; if not provided, computed from \code{par1}/\code{par2}.
}}

\item{colnms}{Named character vector mapping standard column names to
actual column names in \code{distdf}. Default assumes standard names.}

\item{stvs}{Optional starting values for optimization: \code{c(intercept, slope)}.}

\item{ll_fun}{Log-likelihood function (default: \code{\link{or_log_likelihood}}).}
}
\value{
A named numeric vector with components:
\item{OR}{Odds ratio (exponentiated slope coefficient).}
\item{log(OR)}{Log odds ratio (slope coefficient).}
\item{SE(log(OR))}{Standard error of log(OR) from model-based variance.}
\item{p}{Two-sided p-value testing log(OR) = 0.}
\item{LB2.5, UB97.5}{95\\% confidence interval for OR.}

The vector has an attribute \code{"complete"} containing the full
\code{ucminf} output, including \code{vcov} (variance-covariance matrix)
and model parameters.
}
\description{
Computes odds ratios (OR) relating a continuous predictor to a binary
outcome using logistic regression with log-likelihood integrated directly
over the predictor distributions. This integration-based approach is more
precise than simulation methods and avoids Monte Carlo error.
}
\details{
This function fits a logistic regression model by integrating the log-likelihood
over the quantile functions of the predictor X in each outcome group. The
integration is performed using adaptive quadrature (\code{stats::integrate}).

Starting values are computed from the log odds of outcome prevalence and
a standardized mean difference-based approximation.

Supported distributions: normal, lognormal, exponential, beta, gamma, weibull.
}
\examples{
\dontrun{
# Example: OR for normal distributions
df <- data.frame(
  outcome = c(0, 1, 0, 1),
  dist = "normal",
  par1 = c(9.3, 8.7, 8.4, 7.7),  # means
  par2 = c(1.6, 1.9, 1.3, 1.3),  # SDs
  n = c(188, 38, 188, 38)
)
result <- estimate_or(df)
print(result)
}

}
\seealso{
\code{\link{estimate_rr}} for relative risks
}
